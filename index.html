<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üá∞üá∑ Koreyscha Flashcards - Sekin Chiqarish</title>
<style>
body { font-family: 'Inter', sans-serif; text-align:center; margin:0; padding-top:50px; background:#e9ecef; color:#343a40; }
h1 { color:#1e3a8a; margin-bottom:5px; font-weight:700; }
p { color:#6c757d; font-size:1.1em; margin-bottom:20px; }
#inputWrapper { margin-bottom:40px; padding:20px; background:#fff; border-radius:12px; box-shadow:0 4px 20px rgba(0,0,0,0.05); display:inline-block; }
#inputWords { width:500px; max-width:80%; height:120px; padding:15px; font-size:17px; border:2px solid #ced4da; border-radius:10px; outline:none; transition:border-color 0.3s; resize:vertical; }
#inputWords:focus { border-color:#007bff; }
button { padding:15px 30px; font-size:17px; margin-left:15px; background:#007bff; color:#fff; border:none; border-radius:10px; cursor:pointer; transition:0.3s; box-shadow:0 4px #0056b3; text-transform:uppercase; }
button:hover { background:#0056b3; transform:translateY(-2px); box-shadow:0 6px #004499; }
button:active { transform:translateY(2px); box-shadow:0 2px #004499; }
#cardsContainer { display:flex; flex-wrap:wrap; justify-content:center; gap:30px; padding:20px; }
.card { width:280px; height:380px; perspective:1000px; cursor:pointer; transition:transform 0.3s, opacity 0.5s; opacity:0; }
.card.visible { opacity:1; }
.card:hover { transform:translateY(-5px); }
.inner { width:100%; height:100%; transition:transform 0.8s; transform-style:preserve-3d; position:relative; border-radius:15px; box-shadow:0 10px 25px rgba(0,0,0,0.15); }
.card.flipped .inner { transform:rotateY(180deg); }
.front,.back { position:absolute; width:100%; height:100%; backface-visibility:hidden; display:flex; flex-direction:column; align-items:center; justify-content:center; border-radius:15px; padding:20px; box-sizing:border-box; border:1px solid #dee2e6; }
.front { background:#fff; color:#343a40; }
.back { transform:rotateY(180deg); background:linear-gradient(135deg,#28a745,#1e7e34); color:#fff; }
img { width:90%; max-height:200px; object-fit:contain; border-radius:10px; margin-bottom:20px; background:#f8f9fa; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
h2 { font-size:28px; margin:5px 0; font-weight:700; }
small { color:#adb5bd; font-style:italic; margin-top:10px; }
.back h2 { font-size:32px; text-shadow:1px 1px 2px rgba(0,0,0,0.2); }
.loader { border:6px solid #f3f3f3; border-top:6px solid #007bff; border-radius:50%; width:40px; height:40px; animation:spin 1s linear infinite; margin:30px auto; display:none; }
@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }
</style>
</head>
<body>

<h1>üá∞üá∑ Koreyscha Flashcards Dasturi</h1>
<p>So‚Äòzlarni vergul (,) yoki yangi qator bilan ajratgan holda <b>Koreyscha-O‚Äòzbekcha</b> formatda kiriting.</p>

<div id="inputWrapper">
<textarea id="inputWords" placeholder="So'zlar ro'yxatini kiriting..."></textarea>
<button onclick="generateCards()">üêå Sekin Yaratish (30s interval)</button>
</div>

<div id="loading" class="loader"></div>
<div id="cardsContainer"></div>

<script>
const sleep = ms => new Promise(resolve => setTimeout(resolve, ms));

async function generateCards() {
    const text = document.getElementById("inputWords").value.trim();
    const container = document.getElementById("cardsContainer");
    const loader = document.getElementById("loading");
    const btn = document.querySelector('button');

    if(!text){ alert("Iltimos, so‚Äòzlar ro'yxatini kiriting!"); return; }

    container.innerHTML = "";
    loader.style.display="block";
    btn.disabled = true;

    const pairs = text.split(/,\s*|\n/).map(p=>p.trim()).filter(p=>p.includes('-') && p.split('-').length>=2);

    if(pairs.length===0){
        alert("Noto'g'ri format! Iltimos, so'zlar ro'yxatini 'Koreyscha-O'zbekcha' formatida kiriting.");
        loader.style.display="none"; btn.disabled=false; return;
    }

    for(let i=0;i<pairs.length;i++){
        const parts = pairs[i].split("-").map(p=>p.trim());
        const korean = parts[0];
        const uzbek = parts.slice(1).join("-").trim();
        const imgURL = `https://image.pollinations.ai/prompt/a+simple+illustration+of+${korean}?width=560&height=400&nologo=true&seed=${korean.charCodeAt(0)+korean.length+i}`;

        const card = document.createElement("div");
        card.className = "card";
        card.onclick = ()=>card.classList.toggle("flipped");
        card.innerHTML = `
        <div class="inner">
            <div class="front">
                <img src="${imgURL}" alt="${korean}" loading="lazy" 
                onerror="this.src='https://via.placeholder.com/250x200/dee2e6/343a40?text=${encodeURIComponent(korean.substring(0,10))}'">
                <h2>${korean}</h2>
                <small>Ta'rifni ko'rish uchun bosing</small>
            </div>
            <div class="back">
                <p style="font-size:1.5em; color:#f8f9fa;">O'zbekcha:</p>
                <h2>${uzbek}</h2>
            </div>
        </div>`;
        container.appendChild(card);
        card.classList.add("visible");

        if(i===0) loader.style.display="none";
        await sleep(30000); // 30 soniya kutish
    }
    btn.disabled=false;
}
</script>

</body>
</html>
